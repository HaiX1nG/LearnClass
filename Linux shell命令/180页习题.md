# 实践习题

## 1.创建一个脚本,运行该脚本时,显示:你目前的身份(用`whoami`); 你的目前所在的目录(用`pwd`).

```powershell
[root@Server02 ~]# vim sh20.sh
```

```sh
#!/bin/bash
PATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/bin
export PATH

echo "你目前的身份：$(whoami)"
echo "你的目前所在的目录：$(pwd)"
```

```powershell
[root@Server02 ~]# sh sh20.sh
你目前的身份：root
你的目前所在的目录：/root
```

## 2.创建一个程序,计算"你还有几天可以过生日".

```powershell
[root@Server02 ~]# vim sh21.sh
```

```sh
#!/bin/bash
PATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/bin 
export PATH

read -p "Input your birthday like YYYYMMDD:" date1
# Use regular expression to check if the date format is correct
if ! [[ $date1 =~ ^[0-9]{8}$ ]]; then
    echo "Input error!"
    exit 1
fi

m=$(date --date="${date1:0:4}-${date1:4:2}-${date1:6:2}" +%m) # Month of the birthday
d=$(date --date="${date1:0:4}-${date1:4:2}-${date1:6:2}" +%d) # Day of the birthday
y=$(date +%Y) # Current year
date_now=$(date +%s) # Seconds from 1970-01-01 to now
birth=$(date --date="$y$m$d" +%s) # Seconds from 1970 to this year's birthday

if [ $birth -ge $date_now ]; then
  internal=$((($birth-$date_now)/60/60/24)) # Calculate the difference
else
  next_birthday=$(date --date="$y-$(date --date="$y$m$d" +%m-%d) +1 year" +%s) # Seconds from 1970 to next year's birthday
  internal=$((($next_birthday-$date_now)/60/60/24)) # Calculate the difference
fi

# Output the remaining days until the next birthday
echo -e "There are \033[32;1m$internal\033[0m days when your birthday comes."
exit 0
```

```powershell
[root@Server02 ~]# sh sh21.sh
Input your birthday like YYYYMMDD:20040208   
There are 76 days when your birthday comes.
```

## 3.创建一个程序,让用户输入一个数字,计算1+2+3+...,一直累加到用户输入的数字为止.

```powershell
[root@Server02 ~]# vim sh22.sh
```

```sh
#!/bin/bash
PATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/bin
export PATH

read -p "Please enter a number: " num
sum=0
for ((i=1; i<=num; i++))
do
        sum=$((sum + i))
done
echo "The result of summing from 1 to $num is: $sum"
```

```powershell
[root@Server02 ~]# sh sh22.sh
Please enter a number: 100
The result of summing from 1 to 100 is: 5050
```

